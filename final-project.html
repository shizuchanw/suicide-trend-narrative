<html>
	<script src='https://d3js.org/d3.v5.min.js'></script>
	<body onload="init()">
		<svg width=500 height=500></svg>
	</body>

	<script>
		async function init() {
			const data = await d3.csv("https://raw.githubusercontent.com/shizuchanw/suicide-trend-narrative/main/cleaned-data.csv");
			var svg = d3.select("svg");

			const width = 400, height = 400, margin = 50;

			// x axis
			var x = d3.scaleTime()
      			.domain(d3.extent(data, function(d) { return d.Year; }))
      			.range([ 0, width ]);
    		svg.append("g")
      			.attr("transform", "translate(0," + height + ")")
      			.call(d3.axisBottom(x));

    		// y axis
    		var y = d3.scaleLinear()
      			.domain([0, d3.max(data, function(d) { return +d.Suicides_per_100KPop; })])
      			.range([ height, 0 ]);
    		svg.append("g")
      			.call(d3.axisLeft(y));

			svg.selectAll("rect").data(data);
		}
	</script>
</html>