<html>
	<script src='https://d3js.org/d3.v5.min.js'></script>
	<body onload="init()">
		<svg width=500 height=500></svg>
	</body>

	<script>
		async function init() {
			const korean_data = await d3.csv("https://raw.githubusercontent.com/shizuchanw/suicide-trend-narrative/main/cleaned-korean-data.csv");

			var data = await d3.csv('https://flunky.github.io/cars2017.csv');
			function test (data) {
				console.log("here");
				console.log(data);
			}
			test(korean_data);


			var svg = d3.select("svg");
			const width = 400, height = 400, margin = 50;
			var g = svg.append("g").attr("transform","translate(50,50)");

			// x axis
			var x = d3.scaleTime()
      			.domain([new Date("1985-01-01"), new Date("2015-01-01")])
      			.range([ 0, width ]);
    		g.append("g")
      			.attr("transform", "translate(0," + height + ")")
      			.call(d3.axisBottom(x).tickFormat(d3.timeFormat("%Y")));

    		// y axis
    		var y = d3.scaleLinear()
      			.domain([0, 80])
      			.range([ height, 0 ]);
    		g.append("g").call(d3.axisLeft(y));


      		// line chart korea
      // 		var groups = d3.map(korean_data, function(d){return(d.gender)}).keys();
      // 		var stackedData = d3.stack()
    		// 	.keys(groups)
    		// 	.data(korean_data);
    		// var color = d3.scaleOrdinal()
    		// 	.domain(groups)
    		// 	.range(['#6dcdd6','#d66daa']);


			// g.append("path").data(korean_data)
			// 	.attr("fill", "none")
   //    			.attr("stroke", "steelblue")
   //    			.attr("stroke-width", 1.5)
   //    			.attr("d", function(d){
   //    				return d3.line()
   //      			.x(function(d) { return x(d.year) })
   //      			.y(function(d) { return y(d.avg_suicide) })
   //      		});

   			// Show the bars
  			// svg.append("g")
    	// 		.selectAll("g")
    	// 		.data(stackedData)
    	// 		.enter().append("g")
     //  			.attr("fill", function(d) { return color(d.key); })
     //  			// create each stacked bar
     //  			.selectAll("rect")
     //  			.data(function(d) { return d; })
     //  			.enter().append("rect")
     //    		.attr("x", function(d) { return x(d.data.group); })
     //    		.attr("y", function(d) { return y(d[1]); })
     //    		.attr("height", function(d) { return y(d[0]) - y(d[1]); })
     //    		.attr("width",x.bandwidth());

			
		}
	</script>
</html>