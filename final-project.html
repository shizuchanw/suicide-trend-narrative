<html>
	<script src='https://d3js.org/d3.v5.min.js'></script>
	<body onload="init()">
		<svg width=500 height=500></svg>
	</body>

	<script>
		async function init() {
			const data = await d3.csv("https://raw.githubusercontent.com/shizuchanw/suicide-trend-narrative/main/cleaned-data.csv");
			const world_data = await d3.csv("https://raw.githubusercontent.com/shizuchanw/suicide-trend-narrative/main/cleaned-world-avg.csv");
			var svg = d3.select("svg");

			const width = 400, height = 400, margin = 50;
			var g = svg.append("g").attr("transform","translate(50,50)");

			// x axis
			var x = d3.scaleTime()
      			.domain([new Date("1985-01-01"), new Date("2015-01-01")])
      			.range([ 0, width ]);
    		g.append("g")
      			.attr("transform", "translate(0," + height + ")")
      			.call(d3.axisBottom(x).tickFormat(d3.timeFormat("%Y")));

    		// y axis
    		var y = d3.scaleLinear()
      			.domain([0, 100])
      			.range([ height, 0 ]);
    		g.append("g").call(d3.axisLeft(y));

      		// line chart korea
			g.append("path").data(data)
				.attr("fill", "none")
      			.attr("stroke", "steelblue")
      			.attr("stroke-width", 1.5)
      			.attr("d", function(d){
      				return d3.line()
        			.x(function(d) { return x(d.Year) })
        			.y(function(d) { return y(d.Suicides_per_100KPop) })
        		});
			
		}
	</script>
</html>